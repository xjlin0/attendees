{% extends "base.html" %}
{% load mptt_tags %}
{% load user_extras %}
{% load i18n %}
{% block content %}
<ul class="root">
    {% recursetree user_menus %}
        <li>
            {% if node.html_type == 'a' %}
                <a href="{% convert_urn node.urn %}"
                   {% for key, value in node.infos.items %}
                     {{key}}="{{value}}"
                   {% endfor %}
                   data-menu-id="{{node.id}}">
                  {% blocktrans with display_name=node.display_name %}
                    {{ display_name }}
                  {% endblocktrans %}
                </a>
            {% elif node.html_type == 'div'  %}
                <div data-menu-id="{{node.id}}"
                  {% for key, value in node.infos.items %}
                    {{key}}="{{value}}"
                  {% endfor %}
                >
                  DIV children --- {{ node.display_name }} ---
                </div>
            {% endif %}

            {% if not node.is_leaf_node %}
                <ul class="children">
                    {{ children }}
                </ul>
            {% endif %}
        </li>
    {% endrecursetree %}
</ul>
{% endblock content %}
